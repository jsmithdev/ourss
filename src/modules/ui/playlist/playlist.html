<template>
    <div class="container">

        <div class="dynamic-width">

            <!-- <text-neon
                text="Playlist"
                onclick={load}
            ></text-neon> -->

            <ourss-img-header lwc:external>
                    
                <span slot="image">
                    <ourss-icon
                        lwc:external
                        text="Playlist"
                        onclick={load}
                    ></ourss-icon>
                </span>

                <span slot="actions">
                    <p style="color:white;">You have {itemsCount} downloaded</p>
                </span>

            </ourss-img-header>
        </div>

        <div class="items">

            <template for:each={items} for:item="item">

                <template if:true={item.loading}>
                    <ourss-progress
                        lwc:external
                        key={item.id}
                        title={item.title}
                        value={item.loaded}
                        max={item.size}
                    ></ourss-progress>
                </template>

                <template if:false={item.loading}>
                    <ourss-list
                        lwc:external
                        key={item.id}
                        title={item.title}
                        date={item.date}
                        description={item.description}
                    >

                        <span slot="footer">

                            <div class="controls">
                                <div>
                                    <svg 
                                        onclick={remove}
                                        data-id={item.id}
                                        data-parentid={item.parentid}
                                        class="remove" 
                                        viewBox="0 0 24 24">
                                        <path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <svg 
                                        onclick={play}
                                        data-id={item.id}
                                        data-parentid={item.parentid}
                                        class="play" 
                                        viewBox="0 0 24 24">
                                        <path d="M8 5v14l11-7z"></path>
                                    </svg>
                                </div>
                            </div>
                        </span>
                    </ourss-list>
                </template>
                
                
            </template>
        </div>

    </div>
</template>